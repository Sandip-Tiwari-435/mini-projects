<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Coin toss game</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <h1 style="margin: 30px;">First player to score 5 points Win!</h1>
    <div class="selections">
        <div class="player">Player selected: <span id="p_select"></span></div>
        <div class="computer">Computer selected: <span id="c_select"></span></div>
    </div>
    <div id="container" style="margin: 10px;"></div>
    <div class="scores">
        <div class="player_score">Player: <span id="p_score"></span></div>
        <div class="computer_score">Computer: <span id="c_score"></span></div>
    </div>
    <h3 style="margin: 30px;">Make a selection</h3>
    <div class="buttons">
        <button onclick="heads()">Heads</button>
        <button onclick="tails()">Tails</button>
    </div>
    <h2 id="result"></h2>
    <button id="try" onclick="location.reload()" style="display: none;">Try again</button>

    <script>
        var selection;
        var p_score=0;
        var c_score=0;

        function cycle() {
            var j;
            var c=Math.floor(Math.random() * 2);
            var arr=["Tails","Heads"];
            document.getElementById('c_select').innerHTML=`${arr[c]}`;
            const timer = ms => new Promise(res => setTimeout(res, ms));

            async function yes(h) {
                j = Math.floor(Math.random() * 2);
                for (let i = 0; i <= h; i++) {
                    
                    document.getElementById('container').style.cssText = `background:url(1.png) no-repeat;background-size:contain;background-position:center;`;
                    await timer(200);
                    document.getElementById('container').style.cssText = `background:url(0.png) no-repeat;background-size:contain;background-position:center;`;

                    await timer(200);
                    
                }
                document.getElementById('container').style.cssText = `background:url(${j}.png) no-repeat;background-size:contain;background-position:center;`;


            }
            yes(5);
            
            if(j==selection) {document.getElementById('p_score').innerHTML=`${p_score+1}`;p_score+=1;}
            if(j==c) {document.getElementById('c_score').innerHTML=`${c_score+1}`;c_score+=1;}
            if (p_score==0) document.getElementById('p_score').innerHTML="0";
            if (c_score==0) document.getElementById('c_score').innerHTML="0";
            if (p_score==5) {document.getElementById('result').innerHTML="You won";document.getElementById('try').style.cssText="display:block;";}
            if (c_score==5) {document.getElementById('result').innerHTML="Computer won";document.getElementById('try').style.cssText="display:block;";}
            
        }
       

        function heads(){
            
            document.getElementById('p_select').innerHTML="Heads";
            selection= 1;
            cycle();
            
        }
        function tails(){
            document.getElementById('p_select').innerHTML="Tails";
            selection= 0;
            cycle();

        }
        
    </script>

</body>

</html>